{% extends "app/base.html" %}

{% block content %}



<main class="container">
    <section class="banner">
      {% for latest in latest_post %}

      <div class="banner-image"
      style="background-image:url('{{latest.cover_photo.url}}')"
      >
      </div>

      <div class="jumbotron">
        <div class="badge">
          <button>{{latest.slug}}</button>
        </div>
        <div class="banner-title">
          <a href="{{latest.get_absolute_url }}">
            <h1>
              {{latest.title}}
            </h1>
          </a>
        </div>
        <div class="banner-author">
          <div class="author-image"
          style="background-image:url('{{latest.authors_photo.url}}')"
          ></div>
          <p>By</p>
          <div class="authors-name">
            <p>{{latest.author}}</p>
          </div>
          <div class="date-published">
            <p>{{latest.publish}}</p>
          </div>

          
        </div>
        <small>Tags: {{ post.tags.all|join:", " }}</small>

        {% endfor %}
      </div>
    </section>

    <section class="main-text">
      <p>Blog Posts</p>
      {% comment %} {% if tag %}
      <h2>Posts tagged with "{{ tag.name }}"</h2>
      {% endif %} {% endcomment %}
      <!-- First column -->
      <div class="posts">
        {% for post in posts %}
        <div class="first-post">
          <div class="first-post-image"
          style="background-image:url('{{post.cover_photo.url}}')"
          ></div>
          <div class="badge">
            <button>{{post.slug}}</button>
          </div>
          <div class="first-post-title">
            <a href="{{ post.get_absolute_url }}">
              <h2>{{ post.title|truncatewords:5 }}</h2>
            </a>
          </div>
          <div class="first-post-author">
            <div class="first-post-author-image"
            style="background-image:url('{{post.authors_photo.url}}')"
            ></div>
            <div class="first-post-authors-name">
              <span> {{ post.publish }}</span> |
              <span> {{ post.author }}</span>
            </div>
            
            <div class="first-post-date-published">
            </div>
          </div>
          <small>Tags: {{ post.tags.all|join:", " }}</small>
          {% comment %} {% for tag in post.tags.all %}
          <a href="{% url "app:post_list_by_tag" tag.slug %}">
          {{ tag.name }}
          </a>
          {% if not forloop.last %}, {% endif %}
          {% endfor %} {% endcomment %}

        </div>
        {% endfor %}
         
      </div>

      <div class="paginator">
        {% include "app/paginator.html" with page=posts %}
      </div>
     
      <div class="view-all-post-button">
       

        {% if user.is_authenticated %}
        <form action="{% url 'app:view_all_posts' %}">
          <button>View All Post</button>
        </form>
        {% else %}
        
        {% endif %}

      </div>


    </section>
  </main>






{% endblock content %}